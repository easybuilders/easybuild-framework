Code from https://github.com/hpcugent/vsc-base

based on 6e7146b0d9d4cc6b7441459b4d39192930b5ef46
