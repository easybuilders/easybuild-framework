Code from https://github.com/hpcugent/vsc-base

based on 688617cb23346e2b771773f61093988121e0427f
